(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-65ec6d2d"],{"9eea":function(e,a,t){},d702:function(e,a,t){"use strict";t.r(a);var o=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",{staticClass:"pd20"},[e._m(0),t("el-form",{staticClass:"table-search-form",attrs:{size:"medium",model:e.searchForm,inline:!0}},[t("el-form-item",{attrs:{label:"审核状态 ："}},[t("el-radio-group",{on:{change:e.reloadTable},model:{value:e.searchForm.approved,callback:function(a){e.$set(e.searchForm,"approved",a)},expression:"searchForm.approved"}},[t("el-radio-button",{attrs:{label:""}},[e._v("全部")]),t("el-radio-button",{attrs:{label:"0"}},[e._v("待审核")]),t("el-radio-button",{attrs:{label:"1"}},[e._v("审核通过")]),t("el-radio-button",{attrs:{label:"-1"}},[e._v("审核失败")])],1)],1)],1),t("gh-table",{ref:"ghTable",attrs:{url:"/company/list",searchForm:e.searchForm}},[t("el-table-column",{attrs:{prop:"name",label:"供应商企业名称"}}),t("el-table-column",{attrs:{prop:"creditCode",label:"统一社会信用代码",width:"180"}}),t("el-table-column",{attrs:{prop:"contactType",label:"对接类型"},scopedSlots:e._u([{key:"default",fn:function(a){return t("div",{},[2==a.row.contactType?t("span",{attrs:{type:"success"}},[e._v("系统对接")]):e._e(),3==a.row.contactType?t("span",{attrs:{type:"danger"}},[e._v("软硬件适配")]):e._e()])}}])}),t("el-table-column",{attrs:{prop:"username",label:"用户名"}}),t("el-table-column",{attrs:{prop:"password",label:"密码"}}),t("el-table-column",{attrs:{prop:"businessContact",label:"业务联系人"}}),t("el-table-column",{attrs:{prop:"businessContactPhone",label:"业务联系人电话"}}),t("el-table-column",{attrs:{prop:"ctime",label:"发布日期"}}),t("el-table-column",{attrs:{prop:"approved",label:"状态"},scopedSlots:e._u([{key:"default",fn:function(a){return t("div",{},[0==a.row.approved?t("el-tag",{attrs:{type:"warning"}},[e._v("待审核")]):e._e(),1==a.row.approved?t("el-tag",{attrs:{type:"success"}},[e._v("审核通过")]):e._e(),-1==a.row.approved?t("el-tag",{attrs:{type:"danger"}},[e._v("审核失败")]):e._e()],1)}}])}),t("el-table-column",{attrs:{prop:"address",label:"操作",width:"280",fixed:"right"},scopedSlots:e._u([{key:"default",fn:function(a){return t("div",{staticClass:"table-cell-ctrl"},[t("router-link",{attrs:{to:{path:"/examDetail",query:{uuid:a.row.uuid}}}},[e._v("详情")]),1!==+a.row.approved?t("a",{on:{click:function(t){e.examCompany(a.row.uuid,a.row.name,1)}}},[e._v("通过")]):e._e(),-1!==+a.row.approved?t("a",{on:{click:function(t){e.examCompany(a.row.uuid,a.row.name,-1)}}},[e._v("拒绝")]):e._e(),t("a",{on:{click:function(t){e.delCompany(a.row.uuid,a.row.name)}}},[e._v("删除")])],1)}}])})],1),t("el-dialog",{attrs:{title:1==e.dialog.approved?"审核通过":"审核拒绝",center:"","append-to-body":"",visible:e.dialog.show,width:"500px"},on:{"update:visible":function(a){e.$set(e.dialog,"show",a)}}},[t("div",{staticClass:"dialog-tip"},[e._v("确定"+e._s(1==e.dialog.approved?"通过":"拒绝")),t("span",{staticClass:"dialog-tip-name"},[e._v(e._s(e.dialog.companyName))]),e._v("的审核？")]),t("el-form",{ref:"form",attrs:{"label-position":"left","label-width":"50px",model:e.dialog.form}},[1!==e.dialog.approved?t("el-form-item",{attrs:{label:"备注"}},[t("el-input",{attrs:{type:"textarea",rows:3},model:{value:e.dialog.form.note,callback:function(a){e.$set(e.dialog.form,"note",a)},expression:"dialog.form.note"}})],1):e._e()],1),t("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{on:{click:function(a){e.dialog.show=!1}}},[e._v("取 消")]),t("el-button",{attrs:{type:"primary"},on:{click:e.examSubmit}},[e._v("确 定")])],1)],1)],1)},l=[function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",{staticClass:"navigate-bar"},[t("span",[e._v("供应商审核")])])}],r=(t("f751"),t("cadf"),t("551c"),t("097d"),t("1ea4")),s={components:{ghTable:r["a"]},data:function(){return{searchForm:{approved:""},dialog:{show:!1,companyUuid:"",companyName:"test",approved:1,form:{account:"",secretKey:"",note:""}}}},methods:{reloadTable:function(){var e=this;console.log(this.searchForm),this.$nextTick(function(){e.$refs.ghTable.reloadTableList()})},examCompany:function(e,a,t){Object.assign(this.dialog.form,{account:"",secretKey:"",note:""}),Object.assign(this.dialog,{companyName:a,companyUuid:e,approved:t,show:!0})},examSubmit:function(){var e=this,a="/company/checkCompany",t=this.dialog,o=t.companyUuid,l=t.approved;this.$ajax.post(a,Object.assign({},this.dialog.form,{uuid:o,approved:l})).then(function(){e.$refs.ghTable.reloadTableList(),e.$message.success("提交成功"),e.dialog.show=!1}).catch(function(a){e.$message.error(a.msg||"服务器繁忙,提交失败!")})},delCompany:function(e,a){var t=this;this.$confirm("确认删除".concat(a,"？")).then(function(a){console.log(a),t.$ajax.post("/company/deleteByUuid",{uuid:e})}).then(function(){t.$refs.ghTable.reloadTableList(),t.$message.success("删除成功")}).catch(function(e){"cancel"!=e&&t.$message.error(e.msg||"服务器繁忙,删除失败!")})}}},n=s,i=(t("e3bc"),t("2877")),c=Object(i["a"])(n,o,l,!1,null,null,null);c.options.__file="examSupplier.vue";a["default"]=c.exports},e3bc:function(e,a,t){"use strict";var o=t("9eea"),l=t.n(o);l.a}}]);
//# sourceMappingURL=chunk-65ec6d2d.9d9fc1d7.js.map