(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-d57eaff2"],{"8f4b":function(e,t,a){"use strict";var o=a("a108"),r=a.n(o);r.a},a108:function(e,t,a){},f7d1:function(e,t,a){"use strict";a.r(t);var o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"pd20"},[e._m(0),a("el-form",{staticClass:"table-search-form",attrs:{size:"medium",model:e.searchForm,inline:!0}},[a("el-form-item",{attrs:{label:"审核状态 ："}},[a("el-radio-group",{on:{change:e.reloadTable},model:{value:e.searchForm.approved,callback:function(t){e.$set(e.searchForm,"approved",t)},expression:"searchForm.approved"}},[a("el-radio-button",{attrs:{label:""}},[e._v("全部")]),a("el-radio-button",{attrs:{label:"0"}},[e._v("待审核")]),a("el-radio-button",{attrs:{label:"-1"}},[e._v("审核失败")]),a("el-radio-button",{attrs:{label:"1"}},[e._v("测试中")]),a("el-radio-button",{attrs:{label:"2"}},[e._v("测试通过")]),a("el-radio-button",{attrs:{label:"-2"}},[e._v("测试失败")])],1)],1)],1),a("gh-table",{ref:"ghTable",attrs:{url:"/test/account/getAccountTestList",searchForm:e.searchForm}},[a("el-table-column",{attrs:{prop:"companyName",label:"供应商企业名称"}}),a("el-table-column",{attrs:{prop:"contractCreditCode",label:"统一社会信用代码",width:"180"}}),a("el-table-column",{attrs:{prop:"contactType",label:"对接类型"},scopedSlots:e._u([{key:"default",fn:function(t){return a("div",{},[2==t.row.contactType?a("span",{attrs:{type:"success"}},[e._v("系统对接")]):e._e(),3==t.row.contactType?a("span",{attrs:{type:"danger"}},[e._v("软硬件适配")]):e._e()])}}])}),a("el-table-column",{attrs:{prop:"account",label:"账号"}}),a("el-table-column",{attrs:{prop:"secretKey",label:"密钥"}}),a("el-table-column",{attrs:{prop:"businessContact",label:"业务联系人"}}),a("el-table-column",{attrs:{prop:"businessContactPhone",label:"业务联系人电话"}}),a("el-table-column",{attrs:{prop:"approved",label:"状态"},scopedSlots:e._u([{key:"default",fn:function(t){return a("div",{},[0==t.row.approved?a("el-tag",{attrs:{type:"warning"}},[e._v("待审核")]):e._e(),-1==t.row.approved?a("el-tag",{attrs:{type:"danger"}},[e._v("审核失败")]):e._e(),1==t.row.approved?a("el-tag",{attrs:{type:"info"}},[e._v("测试中")]):e._e(),2==t.row.approved?a("el-tag",{attrs:{type:"success"}},[e._v("测试通过")]):e._e(),-2==t.row.approved?a("el-tag",{attrs:{type:"danger"}},[e._v("测试失败")]):e._e()],1)}}])}),a("el-table-column",{attrs:{prop:"address",label:"操作",width:"290",fixed:"right"},scopedSlots:e._u([{key:"default",fn:function(t){return a("div",{staticClass:"table-cell-ctrl"},[a("a",{attrs:{href:"javascript:;"},on:{click:function(a){e.showDetail(t.row.uuid)}}},[e._v("详情")]),0==+t.row.approved||-1==+t.row.approved?a("a",{on:{click:function(a){e.examCompany(t.row.uuid,t.row.name,1)}}},[e._v("通过审核")]):e._e(),1==+t.row.approved||-2==+t.row.approved?a("a",{on:{click:function(a){e.examCompany(t.row.uuid,t.row.name,2)}}},[e._v("通过测试")]):e._e(),0==+t.row.approved?a("a",{on:{click:function(a){e.examCompany(t.row.uuid,t.row.name,-1)}}},[e._v("拒绝审核")]):e._e(),1==+t.row.approved?a("a",{on:{click:function(a){e.examCompany(t.row.uuid,t.row.name,-2)}}},[e._v("未通过测试")]):e._e(),a("a",{on:{click:function(a){e.delCompany(t.row.uuid,t.row.name)}}},[e._v("删除")])])}}])})],1),a("el-dialog",{attrs:{title:2==e.dialog.approved?"测试通过":1==e.dialog.approved?"审核通过":"审核拒绝",center:"","append-to-body":"",visible:e.dialog.show,width:"550px"},on:{"update:visible":function(t){e.$set(e.dialog,"show",t)}}},[a("div",{staticClass:"dialog-tip"},[e._v("确定"+e._s(-1==e.dialog.approved?"拒绝":"通过")),a("span",{staticClass:"dialog-tip-name"},[e._v(e._s(e.dialog.companyName))]),e._v("的"+e._s(2==e.dialog.approved?"测试":"审核")+"？")]),a("el-form",{ref:"form",attrs:{"label-position":"right","label-width":"100px",model:e.dialog.form}},[1==e.dialog.approved?a("el-form-item",{attrs:{label:"账户"}},[a("el-input",{model:{value:e.dialog.form.account,callback:function(t){e.$set(e.dialog.form,"account",t)},expression:"dialog.form.account"}})],1):e._e(),1==e.dialog.approved?a("el-form-item",{attrs:{label:"密钥"}},[a("el-input",{model:{value:e.dialog.form.secretKey,callback:function(t){e.$set(e.dialog.form,"secretKey",t)},expression:"dialog.form.secretKey"}})],1):e._e(),1==e.dialog.approved?a("el-form-item",{attrs:{label:"数据提交地址"}},[a("el-input",{model:{value:e.dialog.form.dataAddr,callback:function(t){e.$set(e.dialog.form,"dataAddr",t)},expression:"dialog.form.dataAddr"}})],1):e._e(),a("el-form-item",{attrs:{label:"备注"}},[a("el-input",{attrs:{type:"textarea",rows:3},model:{value:e.dialog.form.note,callback:function(t){e.$set(e.dialog.form,"note",t)},expression:"dialog.form.note"}})],1)],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.dialog.show=!1}}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:e.examSubmit}},[e._v("确 定")])],1)],1),a("el-dialog",{attrs:{title:"测试账号详情",center:"","append-to-body":"",visible:e.detailDialog.show,width:"550px"},on:{"update:visible":function(t){e.$set(e.detailDialog,"show",t)}}},[a("el-form",{ref:"form",staticStyle:{width:"500px"},attrs:{"label-position":"right","label-width":"190px",model:e.dialog.form}},[a("el-form-item",{attrs:{label:"测试项目名称",prop:"projectName",verify:""}},[a("span",[e._v(e._s(e.detailDialog.form.projectName))])]),a("el-form-item",{attrs:{label:"项目地址",prop:"projectAddr",verify:""}},[a("span",[e._v(e._s(e.detailDialog.form.projectAddr))])]),a("el-form-item",{attrs:{label:"总承包名称",prop:"contractName",verify:""}},[a("span",[e._v(e._s(e.detailDialog.form.contractName))])]),a("el-form-item",{attrs:{label:"总承包统一社会信用代码",prop:"contractCreditCode",verify:""}},[a("span",[e._v(e._s(e.detailDialog.form.contractCreditCode))])])],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.detailDialog.show=!1}}},[e._v("关闭")])],1)],1)],1)},r=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"navigate-bar"},[a("span",[e._v("测试账号审核")])])}],l=(a("f751"),a("cadf"),a("551c"),a("097d"),a("1ea4")),s={components:{ghTable:l["a"]},data:function(){return{searchForm:{approved:""},detailDialog:{show:!1,form:{}},dialog:{show:!1,companyUuid:"",companyName:"test",approved:1,form:{account:"",secretKey:"",dataAddr:"",note:""}}}},methods:{reloadTable:function(){var e=this;console.log(this.searchForm),this.$nextTick(function(){e.$refs.ghTable.reloadTableList()})},showDetail:function(e){var t=this;this.$ajax.post("/test/account/getAccountTestByUuid",{uuid:e}).then(function(e){t.detailDialog.form=e.result,t.detailDialog.show=!0}).catch(function(e){console.error(e),t.$message.error(e.msg||"获取详情失败")})},examCompany:function(e,t,a){Object.assign(this.dialog.form,{account:"",secretKey:"",note:""}),Object.assign(this.dialog,{companyName:t,companyUuid:e,approved:a,show:!0})},examSubmit:function(){var e=this,t="/test/account/checkAccountTest",a=this.dialog,o=a.companyUuid,r=a.approved;this.$ajax.post(t,Object.assign({},this.dialog.form,{uuid:o,approved:r})).then(function(){e.$refs.ghTable.reloadTableList(),e.$message.success("提交成功"),e.dialog.show=!1}).catch(function(t){e.$message.error(t.msg||"服务器繁忙,提交失败!")})},delCompany:function(e,t){var a=this;this.$confirm("确认删除".concat(t,"？")).then(function(t){console.log(t),a.$ajax.post("/test/account/delete",{uuid:e})}).then(function(){a.$refs.ghTable.reloadTableList(),a.$message.success("删除成功")}).catch(function(e){"cancel"!=e&&a.$message.error(e.msg||"服务器繁忙,删除失败!")})}}},i=s,n=(a("8f4b"),a("2877")),c=Object(n["a"])(i,o,r,!1,null,null,null);c.options.__file="examTest.vue";t["default"]=c.exports}}]);
//# sourceMappingURL=chunk-d57eaff2.56e4bb20.js.map